<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="heap.js"></script>
    <script type="text/javascript">
      $(function() {
        heap_push = Module.cwrap('push', 'void', ['number']);
        heap_pop  = Module.cwrap('pop', 'void', []);
        heap_print  = Module.cwrap('print', 'string', []);

        var print = function() {
          $("#output").text(heap_print());
        }

        $("#pushBtn").click(function() {
          val = $("#pushValue").val();
          heap_push(val);
          print();
        });

        $("#pushRandomBtn").click(function() {
          heap_push(Math.random() * 100);
          print();
        });

        $("#popBtn").click(function() {
          heap_pop();
          print();
        });
      });
    </script>
  </head>
  <body>
    <h1>Heap</h1>

    <p>
      Push item: <input type="text" id="pushValue"/> <button id="pushBtn">Push</button>
      <button id="pushRandomBtn" style="margin-left: 50px">Push random</button>
    </p>

    <p>
      <button id="popBtn">Pop</button>
    </p>

    <pre id="output">Go ahead and push some items!</pre>
  </body>
</html>
